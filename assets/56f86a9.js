(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{597:function(e,t,r){"use strict";r.r(t);r(65),r(18),r(6),r(34),r(17),r(16),r(24),r(19),r(25);var i=r(4),s=r(3),a=(r(22),r(81));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}var n={data:function(){return{form:!0,delayInMilliseconds:5e3,meter:{batchNumber:"",manufacturer:"",serialNumber:"",deviceId:"",controlNumber:"",companyId:0,initialCredits:0,initialOffsets:0}}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(a.c)({companies:"companies",isadmin:"isadmin",cid:"companyId"})),created:function(){this.$store.dispatch("_fetchuseraccount"),this.$store.dispatch("_fetchcompanies")},mounted:function(){this.meter.companyId=parseInt(this.cid)},methods:{save:function(){var e=this;return Object(i.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$api.$post("/meters",e.meter).then((function(t){e.$router.push("/meters")})).catch((function(e){}));case 2:case"end":return t.stop()}}),t)})))()}}},l=n,c=r(58),d=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container min-w-full"},[e._m(0),e._v(" "),t("div",{staticClass:"flex justify-center p-16"},[t("form",{ref:"form",staticClass:"card p-16 w-9/12",attrs:{id:"app"}},[t("div",{staticClass:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8 border-b-2 pb-10"},[t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Batch Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.batchNumber,expression:"meter.batchNumber"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"text",required:"",placeholder:"E.g XJ326721ML0ZQ"},domProps:{value:e.meter.batchNumber},on:{input:function(t){t.target.composing||e.$set(e.meter,"batchNumber",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Device Manufacture")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.manufacturer,expression:"meter.manufacturer"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"text",required:"",placeholder:"E.g Philips"},domProps:{value:e.meter.manufacturer},on:{input:function(t){t.target.composing||e.$set(e.meter,"manufacturer",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Serial Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.serialNumber,expression:"meter.serialNumber"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"text",required:"",placeholder:"E.g HDJ213UH99kJV9002"},domProps:{value:e.meter.serialNumber},on:{input:function(t){t.target.composing||e.$set(e.meter,"serialNumber",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Device ID")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.deviceId,expression:"meter.deviceId"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"text",required:"",placeholder:"E.g 322131222"},domProps:{value:e.meter.deviceId},on:{input:function(t){t.target.composing||e.$set(e.meter,"deviceId",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Control Number")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.controlNumber,expression:"meter.controlNumber"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"text",required:"",placeholder:"E.g 2131232343242"},domProps:{value:e.meter.controlNumber},on:{input:function(t){t.target.composing||e.$set(e.meter,"controlNumber",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Company")]),e._v(" "),t("div",{staticClass:"flex justify-center mt-2"},[t("div",{staticClass:"w-full"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.meter.companyId,expression:"meter.companyId"}],staticClass:"form-select appearance-none disabled:opacity-75 block w-full px-3 py-3 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded-lg transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{disabled:!e.isadmin,required:"","aria-label":"Select company"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.meter,"companyId",t.target.multiple?r:r[0])}}},[t("option",{attrs:{selected:""}},[e._v("Select company")]),e._v(" "),e._l(e.companies,(function(r){return t("option",{key:r.id,domProps:{value:r.id}},[e._v("\n                  "+e._s(r.name)+"\n                ")])}))],2)])])]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Initial Credits")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.initialCredits,expression:"meter.initialCredits"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"number",required:"",placeholder:"E.g 0.93"},domProps:{value:e.meter.initialCredits},on:{input:function(t){t.target.composing||e.$set(e.meter,"initialCredits",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"block"},[t("span",{staticClass:"block text-lg font-semibold text-slate-700"},[e._v("Initial Offsets")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meter.initialOffsets,expression:"meter.initialOffsets"}],staticClass:"mt-1 block w-full px-3 py-4 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-1 focus:ring-sky-500 invalid:border-pink-500 invalid:text-pink-600 focus:invalid:border-pink-500 focus:invalid:ring-pink-500",attrs:{type:"number",required:"",placeholder:"E.g 2"},domProps:{value:e.meter.initialOffsets},on:{input:function(t){t.target.composing||e.$set(e.meter,"initialOffsets",t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"flex justify-end mt-6 pt-3 text-white font-bold"},[t("button",{staticClass:"transition ease-in-out delay-150 bg-plainblue hover:-translate-y-1 hover:scale-110 hover:bg-indigo-500 duration-300 py-3 px-8 rounded-full",attrs:{type:"submit"},on:{click:e.save}},[e._v("\n          Save Meter\n        ")])])])])])}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"p-5 border-b flex flex-row justify-between"},[t("div",[t("p",{staticClass:"font-bold text-primary text-3xl"},[e._v("\n        Add new Meter\n      ")]),e._v(" "),t("p",{staticClass:"text-sm font-light"},[e._v("\n        Register new meter\n      ")])])])}],!1,null,null,null);t.default=d.exports}}]);